<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Title</title>
    <style>
        #div0
        {
            width: 200px;
            height: 200px;
            background-color: deepskyblue;
            position: relative;
            margin: auto;
        }
        #div1
        {
            width: 130px;
            height: 130px;
            background-color: orange;
            position: absolute;
            margin: auto;
            left: 0;
            top:0;
            bottom: 0;
            right: 0;
        }
        #div2
        {
            width: 50px;
            height: 50px;
            background-color: greenyellow;
            position: absolute;
            margin: auto;
            left: 0;
            top:0;
            bottom: 0;
            right: 0;
        }
    </style>
</head>
<body>
    <div id="div0">
        <div id="div1">
            <div id="div2"></div>
        </div>
    </div>
<script>
    var div0=document.getElementById("div0");
    var div1=document.getElementById("div1");
    var div2=document.getElementById("div2");

   /* var num=1;
    div0.addEventListener("click",clickHandler0);
    function clickHandler0(e) {
//        e.target 目标对象,e.currentTarget和this相同,都是侦听对象
//        console.log(e.target,e.currentTarget,this);
        setTimeout(function (div) {
            div.style.backgroundColor="rgba(0,0,255,0.2)"
        },num*1000,this);
        num++;
    }

    div1.addEventListener("click",clickHandler1,true);
    function clickHandler1(e) {
//        console.log(e.target,e.currentTarget,this);
        setTimeout(function (div) {
            div.style.backgroundColor="rgba(255,0,0,0.2)"
        },num*1000,this);
        num++;

        e.stopPropagation();//阻止冒泡
        e.cancelBubble=true;//IE 8及以下
    }

    div2.addEventListener("click",clickHandler2);
    function clickHandler2(e) {
//        console.log(e.target,e.currentTarget,this);
        setTimeout(function (div) {
            div.style.backgroundColor="rgba(0,255,0,0.2)"
        },num*1000,this);
        num++;

    }
*/

    /*
    *   事件触发是由3个阶段组成
    *   捕获阶段        目标阶段         冒泡阶段
    *    外               目标              内
    *    |                                  |
    *    内                                外
    *
    * */

    /*
    *  阻止冒泡  可以在冒泡阶段也可以在捕获阶段
    *  e.stopPropagation();//阻止冒泡
        e.cancelBubble=true;//IE 8及以下
    *
    * */

    /*
    *  IE8  事件
    *  1，onclick 它不可以一个事件做多个方法，addEventListener可以针对同一个
    *  对象是一个事件做多个方法,并且可以自由选择中间停止某些方法
    *  2.onclick不能设置捕获和冒泡阶段那个优先,addEventListener可以设置捕获和
    *  冒泡的优先,及是否选择确定一个被另一个覆盖
    *  3.onclick这种事件没有自由度,addEventListener可以侦听所有自定义的事件
    *
    * */
   /* div0.onclick=function () {
        console.log("a")
    };
    div0.onclick=function () {
        console.log("b");
    }*/
   div0.addEventListener("click",clickHandler0);
   div0.addEventListener("click",clickHandler1);
   function clickHandler0() {
       console.log("a");
       this.removeEventListener("click",clickHandler0);
   }
    function clickHandler1() {
        console.log("b");
    }
    /*
    *  IE8及以下浏览器无法通过这个事件选择捕获或者优先的级别
    *
    * */
//    div0.attachEvent("onclick",clickHandler0);//addEventListener
//   div0.detachEvent("onclick",clickHandler0);//removeEventListener
</script>
</body>
</html>